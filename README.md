# tmp_octavebands

## Octave band generator, using C++ template metaprogramming.

### Why?

I am using it to gain a better understanding of C++ in general, experiment with TMP, ~~demonstrate my level of insanity,~~ and planning on using it in an app I'm currently working on.

---

### Headers and Classes

Ignore the tmp_octavebands.cpp and .h for now. They were generated by VS and I have not had a chance to add the proper exports yet.

* Calculations.hpp: Should contain all the calculations I'm using, but some ended up in DoubleMath.hpp during a late night code binge.
* CenterFrequencies.hpp: __CenterFrequencies__ structure containing a __std::tuple__ of __TMP_Fraction__ objects and an unfinished center frequency generation factory.
* DoubleMath.hpp: Calculations that belong in Calculations.hpp; since all the calculations deal with FP values anyway.
* Enums.hpp: Pretty self explanatory...
* Fraction.hpp: The __Fraction__ object and it's templated wrapper: __TMP_Fraction__.
* OctaveBand.hpp: The __OctaveBand__ object and it's templated wrapper: __OctaveBandCreator__. (Yes, I will be revisiting the naming conventions)
* OctaveBandFactory.hpp: Contains all the metafunctions required to generate the octave bands.
* OctaveUtil.hpp: 
* TMP_Utils.hpp: Most of my generic metafunctions, collections, etc.

---

### How do I use this?

Currently, you will want to grab only the hpp files; since the project itself probably won't build. I was using a console app project as a test harness and everything was running fine.

__BandFactory__ has 3 template arguments:
  * AdjustOctaves set the ProcessingFlags in the associated OctaveBand to __ProcessingFlags::Adjust__.
  * OutputAdjustmentOctaves changes the ProcessingFlags used for AdjustOctaves from __ProcessingFlags::Adjust__ to __Both__.
  * OutputOctaves set the ProcessingFlags in the associated OctaveBand to __ProcessingFlags::Output__.

__ProcessingFlags__ are what my BiQuad implementation uses to determine whether it will: 
  * __Adjust__ the band gain.
  * Add the __Output__ value to a queue for further processing.
  * Or do __Both__.

```C++
typedef BandFactory<AdjustOctaves, false, OutputOctaves>::result OctaveBands;

int main()
  {
    std::tuple_element<0, OctaveBands>::type band;
    std::cout << band.get_Preferred() << std::endl;
    std::cout << band.get_Center() << std::endl;
    std::cout << band.get_UpperLimit() << std::endl;
    std::cout << band.get_LowerLimit() << std::endl;
    std::cout << band.get_Bandwidth() << std::endl;
    
    //ProcessingFlags: Adjust, Output, Both.
    std::cout << band.get_ProcessingFlags() << std::endl;
  }
```

If you don't need the ProcessingFlags, and don't want to remove the associated ~~insanity~~ code yourself, just set the third template param of BandFactory to __FractionalOctaves::None__.
